var onloading=function(){vmDtvLib.lib.init(function(){libLoaded()})},libLoaded=function(){var t,n,e=0;buildPage(),document.onkeydown=function(o){switch(console.log(o.keyCode),o.keyCode){case 38:e>0?(console.log("up"),e--,t=document.querySelectorAll(".menu__item"),t[e+1].classList.remove("menu-item-selected"),t[e].classList.add("menu-item-selected"),n=pageConfig.baseAppURL+pageConfig.listOfApps[e]+"/splash.jpg?"+Math.floor(65536*Math.random()+1),document.getElementById("splash-image").setAttribute("src",n),document.getElementById("footer").innerHTML="Press OK to view '"+pageConfig.listOfApps[e]+"' "+pageConfig.listOfEvents[pageConfig.listOfApps[e]]+" - Use colour buttons to toggle parameters."):e=0,console.log(pageConfig.appList[e]);break;case 40:e<pageConfig.appListLength-1?(console.log("down"),e++,t=document.querySelectorAll(".menu__item"),t[e-1].classList.remove("menu-item-selected"),t[e].classList.add("menu-item-selected"),n=pageConfig.baseAppURL+pageConfig.listOfApps[e]+"/splash.jpg?"+Math.floor(65536*Math.random()+1),document.getElementById("splash-image").setAttribute("src",n),document.getElementById("footer").innerHTML="Press OK to view '"+pageConfig.listOfApps[e]+"' "+pageConfig.listOfEvents[pageConfig.listOfApps[e]]+" - Use colour buttons to toggle parameters."):e=pageConfig.appListLength-1,console.log(pageConfig.appList[e]);break;case 66:console.log("Blue"),pageConfig.toggleTestMode();break;case 406:console.log("Blue"),pageConfig.toggleTestMode();break;case 71:console.log("Green"),pageConfig.toggleHDMode();break;case 404:pageConfig.toggleHDMode();break;case 89:console.log("Yellow"),pageConfig.toggleDaxMode();break;case 405:console.log("Yellow"),pageConfig.toggleDaxMode();break;case 403:case 82:console.log("Red"),window.location.href="../chanManExample.html?"+Math.floor(65536*Math.random()+1);break;case 13:window.location.href=pageConfig.appLinks[e]+pageConfig.daxCommand+"&isHD="+pageConfig.isHDFlag+"&test="+pageConfig.testFlag+"&"+pageConfig.chanId;break;case 27:tivo.core.exit()}}},pageConfig={baseURL:"http://sit-tkestrel.interactive.sky.com/uatcontent/tivoextra/",isHD:"isHD=1",daxString:"vdl.dax.test=true",channelId:"channelID=SS1",appList:["app1","app2","app4","app5","app6","app8","gen1","gen2","gen3","gen4"],test:"0",hd:"0",eventList:{app1:"Football 1",app2:"Tennis US Open",app3:"Champions League",app4:"Football 2",app5:"Rugby",app6:"Tennis Masters",app7:"n/a",app8:"Formula 1",gen1:"Generic App 1",gen2:"Generic App 2",gen3:"Generic App 3",gen4:"Generic App 4"},appLinkList:[],get appListLength(){return this.appList.length},get listOfApps(){return this.appList},get listOfEvents(){return this.eventList},get baseAppURL(){return this.baseURL},get chanId(){return this.channelId},get isHDFlag(){return this.hd},get testFlag(){return this.test},get daxCommand(){return this.daxString},get appLinks(){return this.appLinkList},set appLinks(e){this.appLinkList=e},set daxCommand(e){this.daxString=e},toggleTestMode:function(){"1"===this.test?(this.test="0",document.getElementById("testTickContainer").className="tickBox"):(this.test="1",document.getElementById("testTickContainer").className="tickBox ticked"),console.log(this.testFlag)},toggleHDMode:function(){"1"===this.hd?(this.hd="0",document.getElementById("hdTickContainer").className="tickBox"):(this.hd="1",document.getElementById("hdTickContainer").className="tickBox ticked")},toggleDaxMode:function(){"vdl.dax.test=true"===this.daxString?(this.daxString="",document.getElementById("daxTickContainer").className="tickBox"):(this.daxString="vdl.dax.test=true",document.getElementById("daxTickContainer").className="tickBox ticked")}},buildPage=function(){var e=pageConfig.listOfApps,t=pageConfig.appListLength,n=pageConfig.listOfEvents,o=document.getElementById("menuContainer"),a=document.getElementById("paramContainer"),s=document.createElement("div");s.className="menu-title-container";var i=document.createElement("div");i.className="menu__title",i.appendChild(document.createTextNode("Sky Sports Kestrel Applications")),s.appendChild(i),o.insertBefore(s,a);for(var d=0;t>d;d++){console.log("loop");var l=document.createElement("div");l.className=0===d?"menu__item menu-item-selected":"menu__item",pageConfig.appLinks[d]=pageConfig.baseAppURL+e[d]+"/sportsapp.html?",l.appendChild(document.createTextNode(n[e[d]])),o.insertBefore(l,a)}document.getElementById("footer").innerHTML="Press OK to view '"+pageConfig.listOfApps[0]+"' "+n[e[0]]+" - Use colour buttons to toggle parameters.",splashURL=pageConfig.baseAppURL+pageConfig.listOfApps[0]+"/splash.jpg?"+Math.floor(65536*Math.random()+1),document.getElementById("splash-image").setAttribute("src",splashURL)};