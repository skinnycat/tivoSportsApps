var commonVersion="1.1.10",ChannelManager=function(){function a(n){if(e.debug("onLibInit, status.ok:",n.ok),n.ok){var r=document.getElementById("vidArea"),d=document.getElementById("OSD"),o=document.getElementById("vidBroadcast");return r||(r=document.createElement("div"),r.id="vidArea",o=document.createElement("object"),o.id="vidBroadcast",o.type="video/broadcast",o.style.left="0px",o.style.top="0px",o.style.width="1280px",o.style.height="720px",document.body.appendChild(r).appendChild(o)),d||(d=document.createElement("div"),d.id="OSD",document.body.appendChild(d)),o.style.visibility="visible",e.debug("VMDBTV STATUS OK: "+n.ok),t.innerHTML="VMDBTV STATUS OK: "+n.ok,vmDtvLib.chanMan.init(document.getElementById("vidBroadcast")),void loadModules()}vmDtvLib.dax.trackError(err,"*** VM Library not initalised"),e.error("*** VM Library not initalised: "+n),console.error("*** VM Library not initalised "+n)}var e=vmDtvLib.logger.getInstance("ChannelManager"),t=document.getElementById("debugArea"),n=this;n.showStatsVideo=function(){var e=document.getElementById("vidArea"),t=document.getElementById("vidBroadcast"),n=document.getElementById("genStatsSub"),a=document.getElementById("OSD");t.style.left="435px",t.style.top="170px",t.style.width="800px",t.style.height="430px",setTimeout(function(){e.style.zIndex=20,t.style.zIndex=20,a.style.zIndex=1,n.style.zIndex=25},0)},n.showFullScreen=function(){var e=document.getElementById("vidArea"),t=document.getElementById("vidBroadcast"),n=document.getElementById("OSD");t.style.left="0px",t.style.top="0px",t.style.width="1280px",t.style.height="720px",setTimeout(function(){e.style.zIndex=0,t.style.zIndex=0,n.style.zIndex=1},0)},n.channelTune=function(e,t){showLoadingAnim();var a=(document.getElementById("debugArea"),new Av),i=Number(a.videoStreams[e]),r=new QueryString;"1"==r.test?vmDtvLib.chanMan.tuneToChannel(i,t):vmDtvLib.chanMan.tuneAndExitOnTunerLoss(i,t,function(){splashLoader.show()})},n.audioTune=function(e,t){vmDtvLib.chanMan.selectAudioComponent(e,"index",t)},n.hideVideo=function(){var e=document.getElementById("vidBroadcast");e.style.visibility="hidden"},n.showVideo=function(){var e=document.getElementById("vidBroadcast");e.style.visibility="visible"},n.exit=function(){console.log("EXIT APP"),splashLoader.show();{var e=new Av;channelManagerModel.getChannelID()}tivo.core.exit(),e=null},n.init=function(){e.debug("Initialise vmDtvLib"),vmDtvLib.lib.init(a)}},ChannelManagerModel=function(){var e,t,n,a=this;a.setCurrentChannel=function(e){t=e},a.getCurrentChannel=function(){return t},a.setCurrentAudio=function(e){n=e},a.getCurrentAudio=function(){return n},a.setChannelID=function(t){e=t},a.getChannelID=function(){return e}},SplashLoader=function(e){var t=e;randNum=new RandomURLNum,this.show=function(){var e=document.getElementById("splashContainer");return e.style.visibility="visible",!0},this.hide=function(){var e=document.getElementById("splashContainer");return e.style.visibility="hidden",!0},function(){if(!document.getElementById("splashContainer")){var e=document.getElementById("OSD"),n=document.getElementById("debug");e||(e=document.createElement("div"),n=document.createElement("div"),e.id="OSD",n.id="debugArea",document.body.appendChild(e).appendChild(n));var a=document.createElement("div");a.id="splashContainer",a.style.background="url('"+t+"?"+randNum.giveMeARandomNum()+"') no-repeat",a.style.zIndex="65535",e.appendChild(a)}}()},Av=function(){var e=sportsAppModel.getIsHD();self=this,self.videoStreams=[],"1"===e?(self.videoStreams.SS1="1520",self.videoStreams.SS2="1521",self.videoStreams.SS3="1769",self.videoStreams.SS4="1770",self.videoStreams.SS5="1787",self.videoStreams.SF1="1771",self.videoStreams[181]="1525",self.videoStreams[182]="1526",self.videoStreams[183]="1527",self.videoStreams[184]="1528",self.videoStreams[185]="1529",self.videoStreams[186]="1530",self.videoStreams[187]="1531",self.videoStreams[188]="1532",self.videoStreams[189]="1533"):(self.videoStreams.SS1="319",self.videoStreams.SS2="320",self.videoStreams.SS3="321",self.videoStreams.SS4="322",self.videoStreams.SS5="1786",self.videoStreams.SF1="1595",self.videoStreams[181]="1525",self.videoStreams[182]="1526",self.videoStreams[183]="1527",self.videoStreams[184]="1528",self.videoStreams[185]="1529",self.videoStreams[186]="1530",self.videoStreams[187]="1531",self.videoStreams[188]="1532",self.videoStreams[189]="1533")};SJAXjsonLoader=function(){this.loadJSON=function(e,t,n){var a=e,i=new XMLHttpRequest;if(i.open("GET",a,!1),i.send(),200===i.status){if(t){var r=i.responseText;0===r.length&&(r="{}"),t(JSON.parse(r))}}else n&&n(i)}},AJAXjsonLoader=function(){this.loadJSON=function(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)if(200===a.status){if(t){var e=a.responseText;0===e.length&&(e="{}");try{t(JSON.parse(e))}catch(i){console.error("JSON PARSE ERROR!!: "+i)}}}else n&&n(a)},a.open("GET",e,!0),a.send()}},QueryString=function(){"use strict";this.query_string={},this.query=getQueryString(),this.vars=this.query.split("&");for(var e in this.vars){var t=Object.keys(this.vars).indexOf(e),n=this.vars[t].split("=");if("undefined"==typeof this.query_string[n[0]])this.query_string[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof this.query_string[n[0]]){var a=[this.query_string[n[0]],decodeURIComponent(n[1])];this.query_string[n[0]]=a}else this.query_string[n[0]].push(decodeURIComponent(n[1]))}return this.query_string},getQueryString=function(){return window.location.search.substring(1)},RandomURLNum=function(){this.baseNum=1,this.ceilNum=99999,this.rndResult=0,this.giveMeARandomNum=function(){return this.rndResult=Math.floor(Math.random()*this.ceilNum+this.baseNum),this.rndResult}};var Alerts=function(){function o(){alertsModel.setRedButtonTune(!0);{var t=(new Av,new Imenu),n=new VideoMenu;alertsModel.getTuneAwayTimeout()}if(r.hideAlert(),n.hideTarget(),iMenuModel.getImenuStatus()&&(t.closeImenu(),t.hideInfoIcon()),"on"===iMenuModel.getTickerStatus()){var i=new Ticker;i.hideTicker(),t.hideImenuStrap()}channelManager.channelTune(alertsModel.getRedButtonChannel(),l())}function l(){hideLoadingAnim();var e=channelManagerModel.getCurrentChannel();tuneBack=setTimeout(function(){channelManager.channelTune(e,u())},1e4)}function u(){channelManager.audioTune(alertsModel.getRedButtonAudio(),s()),hideLoadingAnim()}function s(){alertsModel.setRedButtonTune(!1);var e=new VideoMenu,t=new Imenu;if(t.showInfoIcon(),"on"===iMenuModel.getTickerStatus()){t.showImenuStrap();var n=new Ticker;n.showTicker()}e.showTarget(),sportsAppModel.setCurrentFocus("videoMenu")}var e="alertdata.json",t="hidden",n="visible",a=new Imenu,r=this,d=new RandomURLNum;r.buildAlert=function(){var e=document.getElementById("OSD"),a=(document.getElementById("iMenuStrap"),document.getElementById("alertStrap"));if(!a){var i=iMenuModel.getiMenuYPos();a=document.createElement("div"),a.id="alertStrap";var d=document.createElement("span");d.id="alertText",a.style.top=i+"px",a.style.backgroundImage="url("+alertsModel.getBackgroundURL()+")",e.appendChild(a).appendChild(d)}r.setVisibility(t)},r.showAlert=function(){var e=alertsModel.getAlertData(),t=document.getElementById("alertText");t.innerHTML=e.alert,redButtonChannel=e.stream,"on"===a.getTickerStatus&&(ticker.stopTicker(),tickerModel.setTickerStopped(!0)),iMenuModel.getImenuStatus()&&(a.closeImenu(),a.hideInfoIcon()),r.setVisibility(n),iMenuModel.setAlertDisplayStatus(!0),sportsAppModel.setCurrentFocus("alerts"),setTimeout(function(){r.hideAlert()},alertsModel.getAlertTimeout())},r.hideAlert=function(){var e=new Imenu,n=new Ticker;r.setVisibility(t),"on"===e.getTickerStatus&&tickerModel.getTickerStopped()&&(n.startTicker(tickerModel.getTickerIndex()),tickerModel.setTickerStopped(!1)),e.showInfoIcon(),iMenuModel.setAlertDisplayStatus(!1),sportsAppModel.setCurrentFocus("videoMenu")},r.setVisibility=function(e){var t=document.getElementById("alertStrap");t.style.visibility=e},r.loadAlert=function(t){jsLoad=t?new AJAXjsonLoader:new SJAXjsonLoader,jsLoad.loadJSON(e+"?"+d.giveMeARandomNum(),function(e){alertsModel.setAlertData(e),r.showAlert()},function(t){vmDtvLib.dax.trackError(t,"JSON Load error "+e),console.error("JSON Load Error -> "+t+" "+e)})},r.alertController=function(e){switch(e){case 403:alertsModel.getRedButtonTune()||(vmDtvLib.dax.pageChange("Alert Full Screen Video","red-button"),o());break;case 82:alertsModel.getRedButtonTune()||(vmDtvLib.dax.pageChange("Alert Full Screen Video","red-button"),o());break;case 27:alertsModel.getRedButtonTune()&&(clearTimeout(tuneBack),vmDtvLib.dax.pageChange("Video Menu","back-button"),channelManager.channelTune(av[currentChannel],r.vidCallBack));break;default:videoMenu.videoMenuController(event.keyCode)}}},Config=function(){var e="config.json",t=new RandomURLNum;this.loadConfig=function(n){var a=n?new AJAXjsonLoader:new SJAXjsonLoader;a.loadJSON(e+"?"+t.giveMeARandomNum(),function(e){configModel.setConfigData(e)},function(t){vmDtvLib.dax.trackError(t,"JSON Load error "+e),console.error("JSON loader error: "+t+" "+e)})}},DrawStats=function(){function d(){var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getCurrentPage(),n=drawStatsModel.getNumberOfPages(e),a=document.getElementById("drawArrowUp"),i=document.getElementById("drawArrowDown");a.style.visibility=t>0?"visible":"hidden",i.style.visibility=n-1>t?"visible":"hidden"}function o(){var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getNumberOfRounds(),n=document.getElementById("drawArrowLeft"),a=document.getElementById("drawArrowRight");n.style.visibility=e>0?"visible":"hidden",a.style.visibility=t-3>e?"visible":"hidden"}var e=new RandomURLNum,t="draw_",n=this;n.buildDrawStats=function(){var e=document.getElementById("drawContainer");e||(e=document.createElement("div"),e.id="drawContainer",document.getElementById("OSD").appendChild(e));var t=document.createElement("div"),n=document.createElement("span");t.id="drawCompTitle",e.appendChild(t).appendChild(n),t.firstChild.innerHTML=drawStatsModel.getCompTitle(),t=null,n=null;for(var i=1;4>i;i++){var r=document.createElement("div"),l=document.createElement("div");n=document.createElement("span"),l.id="drawColumnTitle"+i,l.className="drawColumnTitle",r.className="drawRoundColumn drawColumn"+i,e.appendChild(r),e.appendChild(l).appendChild(n)}for(r=null,n=null,i=1;8>i;i++){var u=document.createElement("div");n=document.createElement("span"),u.className="drawExtraText drawExtraText"+i,e.appendChild(u).appendChild(n),u=null}var s=document.createElement("div");n=document.createElement("span"),s.id="roundsText",e.appendChild(s).appendChild(n),s.childNodes[0].innerHTML="(ROUNDS)",s=null,n=null,a(16,"drawColumn1"),a(8,"drawColumn2"),a(4,"drawColumn3");var c=document.createElement("figure"),m=document.createElement("figure");c.id="drawArrowRight",m.id="drawArrowLeft",m.style.visibility="hidden",c.style.visibility="visible",e.appendChild(c),e.appendChild(m);var v=document.createElement("figure");v.id="drawArrowUp",e.appendChild(v);var p=document.createElement("figure");p.id="drawArrowDown",e.appendChild(p),d(),o(),e.style.visibility="visible"};var a=function(e,t){for(i=0;e>i;i+=2){var n=document.getElementsByClassName(t),a=document.createElement("div"),r=document.createElement("div"),d=document.createElement("div");a.className="drawGameBox",d.className="drawPlayerScore",r.className="drawPlayerName",n[0].appendChild(a);var o=document.createElement("span");a.appendChild(r).appendChild(o);var o=document.createElement("span");a.appendChild(d).appendChild(o),n[0].appendChild(a),a=null,n=null,r=null,d=null}};n.populateStatsPage=function(){for(var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getCurrentPage(),o={column1:{name:"drawColumn1",multiplier:4,offset:1},column2:{name:"drawColumn2",multiplier:2,offset:5},column3:{name:"drawColumn3",multiplier:1,offset:7}},l=e,u=1;4>u;u++){var s=document.getElementById("drawColumnTitle"+u);s.childNodes[0].innerHTML=drawStatsModel.getRoundTitle(l),l++}r(t,e,o.column1),r(t,e+1,o.column2),r(t,e+2,o.column3)};var r=function(e,t,n){for(var a=e*n.multiplier,i=0,r=0;r<n.multiplier;r++){p1Name=drawStatsModel.getPlayerName(drawStatsModel.getPlayer1Id(t,a,r)),p2Name=drawStatsModel.getPlayerName(drawStatsModel.getPlayer2Id(t,a,r));var d=drawStatsModel.getExtraText(t,a,r);winner=drawStatsModel.getWinner(t,a,r),-1===winner?(p1Score=" ",p2Score=" "):(p1Score=drawStatsModel.getPlayer1Score(t,a,r),p2Score=drawStatsModel.getPlayer2Score(t,a,r));var o=document.getElementsByClassName(n.name);o[0].childNodes[i].childNodes[0].childNodes[0].innerHTML=p1Name,o[0].childNodes[i+1].childNodes[0].childNodes[0].innerHTML=p2Name,o[0].childNodes[i].childNodes[1].childNodes[0].innerHTML=p1Score,o[0].childNodes[i+1].childNodes[1].childNodes[0].innerHTML=p2Score,document.getElementsByClassName("drawExtraText"+(r+n.offset))[0].innerHTML=d,i+=2}};n.navRight=function(){var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getNumberOfRounds();t-3>e&&(drawStatsModel.setCurrentPage(0),e++,drawStatsModel.setCurrentRound(e),n.populateScrollBar(),n.populateStatsPage()),d(),o(),sportsAppModel.setKeyPressEnabled(!0)},n.navLeft=function(){{var e=drawStatsModel.getCurrentRound();drawStatsModel.getNumberOfRounds()}e>0&&(drawStatsModel.setCurrentPage(0),e--,drawStatsModel.setCurrentRound(e),n.populateScrollBar(),n.populateStatsPage()),d(),o(),sportsAppModel.setKeyPressEnabled(!0)},n.navUp=function(){var t=(drawStatsModel.getCurrentRound(),drawStatsModel.getCurrentPage());t>0&&(t--,drawStatsModel.setCurrentPage(t),n.populateScrollBar(),n.populateStatsPage()),d(),o(),sportsAppModel.setKeyPressEnabled(!0)},n.navDown=function(){var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getCurrentPage(),a=drawStatsModel.getNumberOfPages(e);a-1>t&&(t++,drawStatsModel.setCurrentPage(t),n.populateScrollBar(),n.populateStatsPage()),d(),o(),sportsAppModel.setKeyPressEnabled(!0)},n.populateScrollBar=function(){var e=drawStatsModel.getCurrentRound(),t=drawStatsModel.getNumberOfPages(e),n=drawStatsModel.getCurrentPage(),a=document.getElementById("drawContainer"),r=document.getElementById("scrollBarContainer");r||(r=document.createElement("div"),r.id="scrollBarContainer",a.appendChild(r));var d=r.clientHeight/t;for(r.innerHTML="",i=0;t>i;i++){var o=document.createElement("div");o.className="drawScrollBar",o.style.height=d+"px",r.appendChild(o)}r.childNodes[n].style.background="#ffffff"},this.drawController=function(e){if(sportsAppModel.getKeyPressEnabled())switch(e){case 38:sportsAppModel.setKeyPressEnabled(!1),n.navUp();break;case 40:sportsAppModel.setKeyPressEnabled(!1),n.navDown();break;case 39:sportsAppModel.setKeyPressEnabled(!1),n.navRight();break;case 37:sportsAppModel.setKeyPressEnabled(!1),n.navLeft();break;case 66:var t=new VideoMenu,a=videoMenuModel.getVideoMenuIndex(),i=document.getElementById("OSD"),r=document.getElementById("drawContainer");i.removeChild(r),drawStatsModel.setCurrentStatus(!1),sportsAppModel.setCurrentFocus("videoMenu"),t.loadVideoMenu(),vmDtvLib.dax.pageChange("Video Menu "+a,"back-button"),t.init(a);break;case 27:var t=new VideoMenu,a=videoMenuModel.getVideoMenuIndex(),i=document.getElementById("OSD"),r=document.getElementById("drawContainer");i.removeChild(r),drawStatsModel.setCurrentStatus(!1),sportsAppModel.setCurrentFocus("videoMenu"),t.loadVideoMenu(),vmDtvLib.dax.pageChange("Video Menu "+a,"back-button"),t.init(a)}},n.loadDrawData=function(n){var a=new SJAXjsonLoader,i=t+n+".json?"+e.giveMeARandomNum();a.loadJSON(i,function(e){drawStatsModel.setDrawData(e)},function(e){vmDtvLib.dax.trackError(e,"JSON Load error "+t+n+".json"),console.error("UH OH!!! -> "+e)})},n.init=function(e){sportsAppModel.setCurrentFocus("draw"),drawStatsModel.setCurrentPage(0),n.loadDrawData(e),drawStatsModel.setCurrentStatus(!0),n.buildDrawStats(),n.populateStatsPage(),n.populateScrollBar()}},GenStats=function(){function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var e=this,t="stats/statsmenu.json",a=new RandomURLNum,r=function(e){return this.str=e,this.str=this.str.replace(/(?:\r\n|\r|\n)/g,"<br>"),this.str};e.buildStatsPage=function(e){var t=document.getElementById("genStatsContainer");"undefined"===t||null===t?(t=document.createElement("div"),t.id="genStatsContainer"):d(t);var n=document.createElement("div"),a=document.createElement("div");n.id="genStatsMain",a.id="genStatsSub",t.appendChild(a),t.appendChild(n),document.getElementById("OSD").appendChild(t),t.style.visibility="visible";var i=e,r=genStatsModel.getGenStatsData(0),l=document.getElementById("genStatsTabBar");("undefined"===l||null===l)&&(l=document.createElement("div"),l.id="genStatsTabBar");for(var u=genStatsModel.getNoOfTabs(),s=i-1,c=0;u>c;c++){var m=document.createElement("div");m.className="genStatsTab",m.appendChild(document.createTextNode(r.tabs[s].title)),s++,s==u&&(s=0),l.appendChild(m)}t.appendChild(l),genStatsModel.setMenuIndex(0),o(e)};var o=function(e){genStatsModel.setCurrentMenuType("menu"),genStatsModel.setMenuLevel("toplevel");var t=genStatsModel.getGenStatsData(e),n=t.toplevel.data.items.length;genStatsModel.setNoOfMenuItems(n);var a=document.getElementById("genStatsMain");d(a);var i=document.createElement("ul");a.appendChild(i);for(var r=0;n>r;r++){var o=document.createElement("li"),l=document.createElement("div");o.className="genStatsMenuItem",i.appendChild(o).appendChild(l);var u=t.toplevel.data.items[r].type;"blank"===u?(l.innerHTML="",l.className="genStatsMenuBar blankItem"):genStatsModel.getMenuIndex()==r?(l.className="genStatsMenuBar selected",l.appendChild("submenu"===u?document.createTextNode(t.toplevel.data.items[r].title):document.createTextNode(t.toplevel.data.items[r].data.title))):(l.className="genStatsMenuBar",l.appendChild("submenu"===u?document.createTextNode(t.toplevel.data.items[r].title):document.createTextNode(t.toplevel.data.items[r].data.title)))}var s=document.createElement("div");s.id="genStatsFooter";var c=document.createElement("div");c.id="genStatsStoryBackupTxt",c.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var m=document.createElement("figure");m.id="downUpArrow",a.appendChild(s).appendChild(c),s.appendChild(m)},l=function(){genStatsModel.setCurrentMenuType("submenu");var e=genStatsModel.getGenStatsData(genStatsModel.getCurrentTabIndex()),t=genStatsModel.getMenuIndex(),n="submenu"+e.toplevel.data.items[t].data;genStatsModel.setMenuLevel(n);var a=e[n],i=a.data.items.length;genStatsModel.setNoOfMenuItems(i);var r=document.getElementById("genStatsMain");d(r);var o=document.createElement("ul");r.appendChild(o),genStatsModel.setMenuIndex(0);for(var l=0;i>l;l++){var u=document.createElement("li"),s=document.createElement("div");u.className="genStatsMenuItem",o.appendChild(u).appendChild(s);var c=a.data.items[l].type;"blank"===c?(s.innerHTML="",s.className="genStatsMenuBar blankItem"):genStatsModel.getMenuIndex()==l?(s.className="genStatsMenuBar selected",s.appendChild(document.createTextNode(a.data.items[l].data.title))):(s.className="genStatsMenuBar",s.appendChild(document.createTextNode(a.data.items[l].data.title)))}var m=document.createElement("div");m.id="genStatsFooter";var v=document.createElement("div");v.id="genStatsStoryBackupTxt",v.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var p=document.createElement("figure");p.id="downUpArrow",r.appendChild(m).appendChild(v),m.appendChild(p)},u=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var n=document.createElement("div");n.id="genStatsTitle",n.appendChild(document.createTextNode(e.title)),t.appendChild(n);var a=document.createElement("figure");a.id="genStatsStoryImage",a.style.background="url("+e.image+")",t.appendChild(a);var i=document.createElement("div"),o=document.createElement("span");i.id="genStatsScrollArea",i.className="story",i.appendChild(o).innerHTML=r(e.body),t.appendChild(i);var l=document.createElement("div");l.id="genStatsFooter";var u=document.createElement("div");u.id="genStatsStoryBackupTxt",u.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var s=document.createElement("figure");s.id="downUpArrow",t.appendChild(l).appendChild(u),l.appendChild(s)},s=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var n=document.createElement("div");n.id="genStatsTitle",n.appendChild(document.createTextNode(e.title)),document.getElementById("genStatsMain").appendChild(n);var a=document.createElement("div");a.id="genStatsHeaderContainer",a.className="profile";var o=document.createElement("figure");o.id="genStatsProfileImage",o.style.background="url("+e.image+")",t.appendChild(o);var l=document.createElement("div");if(l.id="genStatsScrollArea",l.className="profile",t.appendChild(l),"undefined"!=typeof e.stats){var u=e.stats.length;for(i=0;u>i;i++){var s=document.createElement("div");s.className="tableRow";var c=document.createElement("div"),m=document.createElement("div");c.className="leftCol",m.className="rightCol",c.appendChild(document.createTextNode(e.stats[i].title)),m.appendChild(document.createTextNode(e.stats[i].body)),s.appendChild(c),s.appendChild(m),l.appendChild(s)}}var v=document.createElement("div");v.className="scrollText",l.appendChild(v).innerHTML=r(e.body);var p=document.createElement("div");p.id="genStatsFooter";var g=document.createElement("div");g.id="genStatsStoryBackupTxt",g.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var M=document.createElement("figure");M.id="downUpArrow",t.appendChild(p).appendChild(g),p.appendChild(M)},c=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var n=document.createElement("div");n.id="genStatsTitle",n.appendChild(document.createTextNode(e.title)),t.appendChild(n);var a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div");a.id="genStatsHeaderContainer",a.className="table1",r.className="leftCol",o.className="midCol",l.className="rightCol";var u=e.cols.split(",");r.appendChild(document.createTextNode(u[0])),o.appendChild(document.createTextNode(u[1])),l.appendChild(document.createTextNode(u[2])),a.appendChild(r),a.appendChild(o),a.appendChild(l),t.appendChild(a);var s=document.createElement("div");s.id="genStatsScrollArea",s.className="table1",t.appendChild(s);var c=e.rows.length;for(i=0;c>i;i++){var m=document.createElement("div");m.className="tableRow";var v=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div");v.className="leftCol",p.className="midCol",g.className="rightCol",v.appendChild(document.createTextNode(e.rows[i].v0)),p.appendChild(document.createTextNode(e.rows[i].v1)),g.appendChild(document.createTextNode(e.rows[i].v2)),m.appendChild(v),m.appendChild(p),m.appendChild(g),s.appendChild(m)}var M=document.createElement("div");M.id="genStatsFooter";var f=document.createElement("div");f.id="genStatsStoryBackupTxt",f.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var h=document.createElement("figure");h.id="downUpArrow",t.appendChild(M).appendChild(f),M.appendChild(h)},m=function(){var e=genStatsModel.getTable2Page(),t=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),n=document.getElementById("genStatsSub");d(genStatsSub);var a=t.rows.length,i=Math.floor(a/10),r=a%10;r>0&&i++;for(var o=10*e,l=0;10>l&&a>o;){var u=document.createElement("div");u.className="table2DataRow";var s=document.createElement("div"),c=document.createElement("div");s.className="leftCol",c.className="rightCol",s.appendChild(document.createTextNode(t.rows[o].v0)),c.appendChild(document.createTextNode(t.rows[o].v1)),u.appendChild(s),u.appendChild(c),n.appendChild(u),o++,l++}e===i-1?e=0:e++,genStatsModel.setTable2Page(e);new ChannelManager;document.getElementById("genStatsSub").style.visibility="visible"},v=function(e){genStatsModel.setTable3Page(e);var t=genStatsModel.getTable3MenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),n=document.getElementById("genStatsMain");d(n);var a=document.createElement("div");a.id="genStatsTitle",a.appendChild(document.createTextNode(t.data.title)),n.appendChild(a);var i=document.createElement("div");i.id="genStatsHeaderContainer",i.className="table3";var r=t.data.cols.split(","),o=document.createElement("div");if(o.className="table3Col0",o.appendChild(document.createTextNode(r[0])),i.appendChild(o),1===e)for(var l=1;6>l;l++){var o=document.createElement("div");o.className="table3Col"+l,o.appendChild(document.createTextNode(r[l])),i.appendChild(o)}else for(var l=6;9>l;l++){var o=document.createElement("div");o.className="table3Col"+l,o.appendChild(document.createTextNode(r[l])),i.appendChild(o)}n.appendChild(i);var u=document.createElement("div");scrollAreaid="genStatsScrollArea",u.className="table3",n.appendChild(u);for(var s=t.data.rows.length,l=0;s>l;l++){var c=document.createElement("div");c.className="tableRow";var o=document.createElement("div");if(o.className="table3Col0",o.appendChild(document.createTextNode(t.data.rows[l].v0)),c.appendChild(o),1===e)for(var m=1;6>m;m++){var o=document.createElement("div");o.className="table3Col"+m,o.appendChild(document.createTextNode(t.data.rows[l]["v"+m])),c.appendChild(o)}else for(m=6;9>m;m++){var o=document.createElement("div");o.className="table3Col"+m,o.appendChild(document.createTextNode(t.data.rows[l]["v"+m])),c.appendChild(o)}u.appendChild(c)}var v=document.createElement("div");v.id="genStatsMessageBox",v.className="table3",v.appendChild(document.createTextNode("PRESS SELECT FOR MORE TABLE OPTIONS")),u.appendChild(v);var p=document.createElement("div");p.id="genStatsMidHeaderContainer",p.className="table3",p.appendChild(document.createTextNode(t.fixtures.title)),u.appendChild(p);var g=t.fixtures.groups.length;for(l=0;g>l;l++){var M=document.createElement("div");for(M.className="genStatsBottomHeader",M.appendChild(document.createTextNode(t.fixtures.groups[l].title)),u.appendChild(M),j=0;2>j;j++){var c=document.createElement("div");c.className="tableRow";var f=document.createElement("div"),h=document.createElement("div"),C=document.createElement("div");f.className="leftCol",h.className="midCol",C.className="rightCol",f.appendChild(document.createTextNode(t.fixtures.groups[l].games[j].v0)),h.appendChild(document.createTextNode(t.fixtures.groups[l].games[j].v1)),C.appendChild(document.createTextNode(t.fixtures.groups[l].games[j].v2)),c.appendChild(f),c.appendChild(h),c.appendChild(C),u.appendChild(c)}}},p=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var n=document.createElement("div");n.id="genStatsTitle",n.appendChild(document.createTextNode(e.title)),t.appendChild(n);var a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div");a.id="genStatsHeaderContainer",a.className="table4",r.className="leftCol",o.className="rightCol";var l=e.cols.split(",");r.appendChild(document.createTextNode(l[0])),o.appendChild(document.createTextNode(l[1])),a.appendChild(r),a.appendChild(o),t.appendChild(a);var u=document.createElement("div");u.id="genStatsScrollArea",u.className="table4",t.appendChild(u);var s=e.rows.length;for(i=0;s>i;i++){var c=document.createElement("div");c.className="tableRow";var m=document.createElement("div"),v=document.createElement("div");m.className="leftCol",v.className="rightCol",m.appendChild(document.createTextNode(e.rows[i].v0)),v.appendChild(document.createTextNode(e.rows[i].v1)),c.appendChild(m),c.appendChild(v),u.appendChild(c)}var p=document.createElement("div");p.id="genStatsFooter";var g=document.createElement("div");g.id="genStatsStoryBackupTxt",g.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var M=document.createElement("figure");M.id="downUpArrow",t.appendChild(p).appendChild(g),p.appendChild(M)},g=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var n=document.createElement("div");n.id="genStatsTitle",n.appendChild(document.createTextNode(e.title)),t.appendChild(n);var a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");a.id="genStatsHeaderContainer",a.className="table5",r.className="leftCol",o.className="midCol",l.className="rightCol",u.className="right2Col";var s=e.cols.split(",");r.appendChild(document.createTextNode(s[0])),o.appendChild(document.createTextNode(s[1])),l.appendChild(document.createTextNode(s[2])),u.appendChild(document.createTextNode(s[3])),a.appendChild(r),a.appendChild(o),a.appendChild(l),a.appendChild(u),t.appendChild(a);var c=document.createElement("div");c.id="genStatsScrollArea",c.className="table5",t.appendChild(c);var m=e.rows.length;for(i=0;m>i;i++){var v=document.createElement("div");v.className="tableRow";var p=document.createElement("div"),g=document.createElement("div"),M=document.createElement("div"),f=document.createElement("div");p.className="leftCol",g.className="midCol",M.className="rightCol",f.className="right2Col",p.appendChild(document.createTextNode(e.rows[i].v0)),g.appendChild(document.createTextNode(e.rows[i].v1)),M.appendChild(document.createTextNode(e.rows[i].v2)),f.appendChild(document.createTextNode(e.rows[i].v3)),v.appendChild(p),v.appendChild(g),v.appendChild(M),v.appendChild(f),c.appendChild(v)}var h=document.createElement("div");h.id="genStatsFooter";var C=document.createElement("div");C.id="genStatsStoryBackupTxt",C.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var S=document.createElement("figure");S.id="downUpArrow",t.appendChild(h).appendChild(C),h.appendChild(S)},M=function(){var e=genStatsModel.getMenuItem(genStatsModel.getCurrentTabIndex(),genStatsModel.getMenuIndex()),t=document.getElementById("genStatsMain");d(t);var a=document.createElement("div");a.id="genStatsTitle",a.appendChild(document.createTextNode(e.title)),t.appendChild(a);var r=document.createElement("div");r.id="genStatsScrollArea",r.className="table6",t.appendChild(r);var o=e.groups.length;for(n=0;o>n;n++){var l=document.createElement("div");l.className="genStatsGroupHeader table6",l.appendChild(document.createTextNode(e.groups[n].title)),r.appendChild(l);var u=e.groups[n].games.length;for(i=0;u>i;i++){var s=document.createElement("div");s.className="tableRow";var c=document.createElement("div"),m=document.createElement("div"),v=document.createElement("div");c.className="leftCol",m.className="midCol",v.className="rightCol",c.appendChild(document.createTextNode(e.groups[n].games[i].v0)),m.appendChild(document.createTextNode(e.groups[n].games[i].v1)),v.appendChild(document.createTextNode(e.groups[n].games[i].v2)),s.appendChild(c),s.appendChild(m),s.appendChild(v),r.appendChild(s)}}var p=document.createElement("div");p.id="genStatsFooter";var g=document.createElement("div");g.id="genStatsStoryBackupTxt",g.appendChild(document.createTextNode("PRESS 'BACK UP' TO RETURN"));var M=document.createElement("figure");M.id="downUpArrow",t.appendChild(p).appendChild(g),p.appendChild(M)};e.loadGenStats=function(e,t,n){jsLoad=e?new AJAXjsonLoader:new SJAXjsonLoader,jsLoad.loadJSON(t+"?"+a.giveMeARandomNum(),function(e){genStatsModel.setGenStatsData(e,n)},function(e){vmDtvLib.dax.trackError(e,"JSON Load error "+t),console.error("UH OH!!! -> "+e)})},this.statsController=function(t){if(sportsAppModel.getKeyPressEnabled()){var n=genStatsModel.getCurrentMenuType();switch(t){case 37:var a=genStatsModel.getNoOfTabs(),i=genStatsModel.getCurrentTabIndex();1==i?i=a:i--,genStatsModel.setCurrentTabIndex(i),vmDtvLib.dax.pageChange("Generic Stats Tab "+i,"left-button"),e.buildStatsPage(i);
break;case 39:var a=genStatsModel.getNoOfTabs(),i=genStatsModel.getCurrentTabIndex();i==a?i=1:i++,genStatsModel.setCurrentTabIndex(i),vmDtvLib.dax.pageChange("Generic Stats Tab "+i,"right-button"),e.buildStatsPage(i);break;case 38:if("menu"===n||"submenu"===n){var r=0,d=genStatsModel.getMenuIndex(),f=document.querySelectorAll(".genStatsMenuBar");if(d>0){for(;f[d-1].classList.contains("blankItem");)d--,r++;d--,genStatsModel.setMenuIndex(d),f[d+(1+r)].classList.remove("selected"),f[d].classList.add("selected");var h=genStatsModel.getCurrentTabIndex(),C=genStatsModel.getMenuType(h,d);if("table2"===C){var S=document.getElementById("vidArea");S.style.zIndex=8,genStatsModel.setTable2Page(0),m();break}var S=document.getElementById("vidArea");S.style.zIndex=20,document.getElementById("genStatsSub").style.visibility="hidden"}}else if("story"===n||"table1"===n||"table4"===n||"table5"===n||"table6"===n||"profile"===n){var b=document.getElementById("genStatsScrollArea");b.scrollTop-=50}break;case 40:if("menu"===n||"submenu"===n){var r=0,d=genStatsModel.getMenuIndex(),f=document.querySelectorAll(".genStatsMenuBar");if(d<genStatsModel.getNoOfMenuItems()-1){for(;f[d+1].classList.contains("blankItem");)d++,r++;d++,genStatsModel.setMenuIndex(d),f[d-(1+r)].classList.remove("selected"),f[d].classList.add("selected");var h=genStatsModel.getCurrentTabIndex(),C=genStatsModel.getMenuType(h,d);if("table2"===C){var S=document.getElementById("vidArea");S.style.zIndex=8,genStatsModel.setTable2Page(0),m();break}var S=document.getElementById("vidArea");S.style.zIndex=20,document.getElementById("genStatsSub").style.visibility="hidden"}}else if("story"===n||"table1"===n||"table4"===n||"table5"===n||"table6"===n||"profile"===n){var b=document.getElementById("genStatsScrollArea");b.scrollTop+=50}break;case 13:var h=genStatsModel.getCurrentTabIndex(),y=genStatsModel.getMenuIndex(),I=genStatsModel.getCurrentMenuType(),C=genStatsModel.getMenuType(h,y);if("menu"===I||"submenu"===I)switch("table2"!==C&&genStatsModel.setCurrentMenuType(C),C){case"menu":vmDtvLib.dax.pageChange("Generic Stats Menu","ok-button"),populateMenuPage();break;case"submenu":vmDtvLib.dax.pageChange("Generic Stats Submenu","ok-button"),genStatsModel.pushBreadcrum(genStatsModel.getMenuIndex()),l();break;case"story":vmDtvLib.dax.pageChange("Generic Stats Story","ok-button"),u();break;case"profile":vmDtvLib.dax.pageChange("Generic Stats Profile","ok-button"),s();break;case"table1":vmDtvLib.dax.pageChange("Generic Stats Table type 1","ok-button"),c();break;case"table2":vmDtvLib.dax.pageChange("Generic Stats Table type 2","ok-button"),m();break;case"table3":vmDtvLib.dax.pageChange("Generic Stats Table type 3","ok-button"),v(1);break;case"table4":vmDtvLib.dax.pageChange("Generic Table type 4","ok-button"),p();break;case"table5":vmDtvLib.dax.pageChange("Generic Stats Table type 5","ok-button"),g();break;case"table6":vmDtvLib.dax.pageChange("Generic Stats Table type 6","ok-button"),M()}else if("table3"===I){var E=genStatsModel.getTable3Page();E=1===E?2:1,vmDtvLib.dax.pageChange("Generic Stats Table type 3 page "+E,"ok-button"),v(E)}break;case 66:var h=genStatsModel.getCurrentTabIndex(),y=genStatsModel.getMenuIndex(),I=genStatsModel.getCurrentMenuType(),T=new VideoMenu;if("menu"===I){var T=new VideoMenu,x=document.getElementById("OSD"),N=document.getElementById("genStatsContainer");x.removeChild(N),"fullscreen"===sportsAppModel.getLastFocus()?(sportsAppModel.setCurrentFocus("fullscreen"),channelManager.showFullScreen(),vmDtvLib.dax.pageChange("Full Screen Video","back-button"),T.fullScreen(channelManagerModel.getCurrentChannel(),channelManagerModel.getCurrentAudio())):(sportsAppModel.setCurrentFocus("videoMenu"),T.loadVideoMenu(),channelManager.showFullScreen(),vmDtvLib.dax.pageChange("Video Menu 0","back-button"),T.init(0))}else vmDtvLib.dax.pageChange("Generic Stats Menu","back-button"),o(genStatsModel.getCurrentTabIndex());break;case 27:var h=genStatsModel.getCurrentTabIndex(),y=genStatsModel.getMenuIndex(),I=genStatsModel.getCurrentMenuType(),T=new VideoMenu;if("menu"===I){var x=document.getElementById("OSD");x.removeChild(document.getElementById("genStatsContainer")),"fullscreen"===sportsAppModel.getLastFocus()?(sportsAppModel.setCurrentFocus("fullscreen"),channelManager.showFullScreen(),vmDtvLib.dax.pageChange("Full Screen Video","back-button"),T.fullScreen(channelManagerModel.getCurrentChannel(),channelManagerModel.getCurrentAudio())):(sportsAppModel.setCurrentFocus("videoMenu"),T.loadVideoMenu(),channelManager.showFullScreen(),vmDtvLib.dax.pageChange("Video Menu 0","back-button"),T.init(0))}else vmDtvLib.dax.pageChange("Generic Stats Menu","back-button"),o(genStatsModel.getCurrentTabIndex())}}},e.init=function(n){var a=new ChannelManager;e.loadGenStats(!1,t,0);var r=new Imenu;r.hideAudioIcon(),r=null,genStatsModel.setCurrentTabIndex(n);var d=genStatsModel.getNoOfTabs();for(i=1;d+1>i;i++)e.loadGenStats(!1,"stats/tab"+i+".json",i);e.buildStatsPage(n),sportsAppModel.setCurrentFocus("stats"),a.showStatsVideo()}},HelpPopup=function(){var e="helptextdata.json",t=new RandomURLNum,n=this;n.buildHelpPopup=function(){var e=document.getElementById("helpContainer");if(!e){var t=helpModel.getHelpDataText(),n=document.getElementById("OSD");e=document.createElement("div");var a=document.createElement("article"),i=document.createElement("span"),r=document.createElement("figure"),d=document.createElement("figure");e.id="helpContainer",a.id="helpTextArea",r.className="helpArrow",r.id="helpUpArrow",d.className="helpArrow",d.id="helpDownArrow",e.appendChild(a).appendChild(i),e.appendChild(r),e.appendChild(d),t+="\n\nApp Version: "+version+"\n\nCommon Version: "+commonVersion,a.firstChild.innerHTML=n2br(t),r.style.visibility="hidden",d.style.visibility="hidden",e.style.visibility="hidden",a.style.visibility="inherit",n.appendChild(e),e=null,a=null,i=null,r=null,d=null}},n.showHelpPopup=function(){var e=document.getElementById("helpContainer"),t=document.getElementById("helpTextArea");t.scrollTop=0,e.style.visibility="visible",checkArrowDisplay()},n.hideHelpPopup=function(){sportsAppModel.setCurrentFocus(sportsAppModel.getLastFocus());var e=document.getElementById("debugArea");e.innerHTML=sportsAppModel.getCurrentFocus();var t=document.getElementById("helpContainer"),n=document.getElementById("helpUpArrow"),a=document.getElementById("helpDownArrow");n.style.visibility="hidden",a.style.visibility="hidden",t.style.visibility="hidden"},n.helpController=function(e){switch(e){case 38:var a=document.getElementById("helpTextArea");a.scrollTop-=50,checkArrowDisplay();break;case 40:var a=document.getElementById("helpTextArea");a.scrollTop+=50,checkArrowDisplay();break;case 27:n.hideHelpPopup(),vmDtvLib.dax.pageChange(sportsAppModel.getLastFocus(),"back-button");break;case 66:n.hideHelpPopup(),vmDtvLib.dax.pageChange(sportsAppModel.getLastFocus(),"back-button")}},checkArrowDisplay=function(){var e=document.getElementById("helpTextArea"),t=document.getElementById("helpUpArrow"),n=document.getElementById("helpDownArrow");e.scrollHeight>e.clientHeight&&(t.style.visibility=e.scrollTop>0?"visible":"hidden",n.style.visibility=e.scrollHeight>e.scrollTop+e.clientHeight?"visible":"hidden")},n2br=function(e){return this.str=e,this.str=this.str.replace(/(?:\r\n|\r|\n)/g,"<br />"),this.str},n.loadHelpText=function(n){var a=n?new AJAXjsonLoader:new SJAXjsonLoader,i=e+"?"+t.giveMeARandomNum();a.loadJSON(i,function(e){helpModel.setHelpData(e)},function(t){vmDtvLib.dax.trackError(t,"JSON Load error "+e),console.error("UH OH!!! -> "+t)})}},Href=function(){var e="screen://",t="matrix://",n="menu://",a="stats://",i="alert://",r="ticker://",d="help://",o="draw://",l=0,u=1,s=2,c=3,m=4,v=5,p=6,g=7;this.getType=function(M){return 0===M.indexOf(e)?l:0===M.indexOf(t)?u:0===M.indexOf(a)?s:0===M.indexOf(i)?c:0===M.indexOf(n)?m:0===M.indexOf(d)?v:0===M.indexOf(r)?p:0===M.indexOf(o)?g:0===M.indexOf(d)?v:void 0},this.getVideoEncoder=function(e){var t,n=3,a=e.indexOf("v=")+2;return t=e.substr(a,n)},this.getAudioId=function(e){var t,n=1,a=e.indexOf("a=")+2;return t=e.substr(a,n)},this.getVideoMenu=function(e){var t,n=e,n=e.indexOf("VIDEO_MENU")+"VIDEO_MENU".length,t=Number(e.substr(n,1));return t},this.getAlertsFlag=function(e){var t=e.indexOf(i)+i.length,n=e.substr(t);return n},this.getTabIndex=function(e){var t=11,n=15,a=parseInt(e.substr(t,n));return a},this.getDrawIndex=function(e){var t=e.indexOf(o)+o.length,n=Number(e.substr(t+4,1));return n},this.getSubMenuName=function(e){var t=e.indexOf(n)+n.length,a=e.substr(t);return a},this.getTickerIndex=function(e){var t=e.indexOf(r)+r.length,n=e.substr(t);return tickerModel.setTickerIndex(n),n},this.hrefHandler=function(e,t){var n=this.getType(e);switch(n){case l:var a=new VideoMenu,i=new Imenu,r=this.getVideoEncoder(e),d=this.getAudioId(e);if(videoMenuModel.setCurrMenuAudio(d),iMenuModel.getImenuStatus()&&i.closeImenu(),console.log("TYPE_SCREEN: "+sportsAppModel.getCurrentFocus()),drawStatsModel.getCurrentStatus()){var o=document.getElementById("OSD"),M=document.getElementById("drawContainer");M&&o.removeChild(M)}vmDtvLib.dax.pageChange("Full Screen Video","ok-button"),a.fullScreen(r,d);break;case u:var i=new Imenu,a=new VideoMenu,f=this.getVideoMenu(e);if(vmDtvLib.dax.pageChange("Video Menu "+f,"ok-button"),videoMenuModel.setOindex(0),console.log("TYPE_VIDEOMENU: "+sportsAppModel.getCurrentFocus()),drawStatsModel.getCurrentStatus()){var o=document.getElementById("OSD"),M=document.getElementById("drawContainer");M&&o.removeChild(M)}iMenuModel.getImenuStatus()&&i.closeImenu(),a.init(f);break;case c:var i=new Imenu,h=this.getAlertsFlag(e);iMenuModel.setAlertStatus("0"===h?!1:!0),iMenuModel.setTickItemFlag(!0),i.populateMenu();break;case s:var i=new Imenu,o=document.getElementById("OSD"),M=document.getElementById("drawContainer");M&&o.removeChild(M);var C=this.getTabIndex(e);iMenuModel.getImenuStatus()&&i.closeImenu();var S=new GenStats;vmDtvLib.dax.pageChange("Generic Stats Tab "+(C+1),"ok-button"),S.init(C+1),o=null,M=null;break;case g:var i=new Imenu,b=new ChannelManager,y=new DrawStats,I=this.getDrawIndex(e);b.hideVideo(),iMenuModel.getImenuStatus()&&i.closeImenu();var o=document.getElementById("OSD"),E=document.getElementById("genStatsContainer");E&&o.removeChild(E),vmDtvLib.dax.pageChange("Draw Stats "+I,"ok-button"),y.init(I),o=null,b=null,i=null,y=null;break;case m:var i=new Imenu;t.pushBreadcrum(t.getMenuId());var T=this.getSubMenuName(e);t.setMenuId(T),t.setMenuIndex(t.returnMenuId(T)),i.buildMenu();break;case v:var i=new Imenu,x=new HelpPopup;iMenuModel.getImenuStatus()&&i.closeImenu(),sportsAppModel.setCurrentFocus("help"),x.showHelpPopup();break;case p:var i=new Imenu,N=new Ticker,w=this.getTickerIndex(e);N.toggleTicker(w),iMenuModel.setTickItemFlag(!0),i.populateMenu()}}},Imenu=function(){var e="imenu.json",t=new RandomURLNum,n=this;n.buildMenu=function(){iMenuModel.setItemIndex(0);var e=iMenuModel.getImenuData(),t=iMenuModel.getMenuIndex(),a=document.getElementById("iMenuContainer"),i=document.getElementById("iMenuStrap"),r=document.getElementById("messageStrap"),d=document.getElementById("iMenuHint"),o=document.getElementById("iMenuClose"),l=document.getElementById("audioIcon"),u=document.getElementById("audioStream"),s=document.getElementById("OSD");if(!a){a=document.createElement("div");var c=document.createElement("div");a.id="iMenuContainer",c.className="iMenu closed",a.appendChild(c),s.appendChild(a)}r||(r=document.createElement("div"),r.id="messageStrap",s.appendChild(r));var m=document.getElementById("iMenuButton");if(!m){m=document.createElement("div"),m.id="iMenuButton",o=document.createElement("div"),o.id="iMenuClose",l=document.createElement("div"),l.id="audioIcon",u=document.createElement("div"),u.id="audioStream",u.appendChild(document.createElement("span")),closeText=document.createElement("span"),closeText.innerHTML="CLOSE",d=document.createElement("div"),d.id="iMenuHint";var v=document.createElement("span");v.innerHTML=e.menu[t].item[0].hint,s.appendChild(m),s.appendChild(l),s.appendChild(u),s.appendChild(o).appendChild(closeText),s.appendChild(d).appendChild(v),o.style.visibility="hidden",d.style.visibility="hidden",l.style.visibility="hidden"}if(!i){var i=document.createElement("div");i.id="iMenuStrap",s.appendChild(i)}var p=iMenuModel.getiMenuXPos(),g=iMenuModel.getiMenuYPos();a.style.left=iMenuModel.getiMenuXPos()+"px",a.style.top=Number(g)-a.clientHeight+27+"px",m.style.left=Number(p)+15+"px",m.style.top=Number(g)+"px",l.style.left=Number(p)+50+"px",l.style.top=Number(g)+"px",u.style.top=Number(g)+1+"px",u.style.left=Number(p)+86+"px",o.style.left=Number(p)+65+m.clientWidth+"px",m.style.top=Number(g)+"px",d.style.left=Number(p)+70+m.clientWidth+o.clientWidth+"px",o.style.top=Number(g)+"px",d.style.top=Number(g)+"px",i.style.top=Number(g)+"px",r.style.top=Number(g)+"px",n.populateMenu()},n.populateMenu=function(){var e=iMenuModel.getImenuData(),t=iMenuModel.getMenuIndex(),n=iMenuModel.getItemIndex(),i=(document.getElementById("iMenuContainer"),document.getElementsByClassName("iMenu")),r=document.getElementById("menuList"),d=document.getElementById("iMenuTitle"),o=document.getElementById("iMenuHint"),l=document.getElementById("OSD");if(iMenuModel.setNumOfListItems(e.menu[t].item.length),r&&r.parentNode.removeChild(r),d){for(var u=d.childNodes,s=0;s<u.length;s++)d.removeChild(u[s]);d.appendChild(document.createTextNode(e.menu[t].id))}else d=document.createElement("div"),d.id="iMenuTitle",i[0].appendChild(d).appendChild(document.createTextNode(e.menu[t].id));if(o)o.firstChild.innerHTML=e.menu[t].item[0].hint;else{o=document.createElement("div"),o.id="iMenuHint";var c=document.createElement("span");c.innerHTML=e.menu[t].item[0].hint,l.appendChild(o).appendChild(c)}for(r=document.createElement("ul"),r.id="menuList",i[0].appendChild(r),r=document.getElementById("menuList"),iMenuModel.setNumOfListItems(e.menu[t].item.length),index=0;index<iMenuModel.getNumOfListItems();index++){var m=document.createElement("li"),v=document.createElement("div"),p=document.createElement("div");if(-1!=e.menu[t].item[n].href.indexOf("alert://"))0===index?iMenuModel.getAlertStatus()?(v.className="listItem selected",p.className="alert ticked"):(v.className="listItem",p.className="alert"):iMenuModel.getAlertStatus()?(v.className="listItem",p.className="alert"):(v.className="listItem selected",p.className="alert ticked",iMenuModel.setItemIndex(1)),r.appendChild(m).appendChild(v).innerHTML=e.menu[t].item[index].label,m.appendChild(p);else if(-1!=e.menu[t].item[index].href.indexOf("ticker://")){var g=new Href,M=g.getTickerIndex(e.menu[t].item[index].href),f=iMenuModel.getTickerFlags();v.className=index===n?"listItem selected":"listItem",p.className=f[M]===!0?"ticker ticked":"ticker",r.appendChild(m).appendChild(v).innerHTML=e.menu[t].item[index].label,m.appendChild(p)}else-1!=e.menu[t].item[index].href.indexOf("help://")?iMenuModel.setNumOfListItems(iMenuModel.getNumOfListItems()-1):(v.className=0!==index||iMenuModel.getTickItemFlag()?"listItem":"listItem selected",r.appendChild(m).appendChild(v).innerHTML=e.menu[t].item[index].label)}var m=document.createElement("li"),v=document.createElement("div");v.className="listItem",r.appendChild(m).appendChild(v).innerHTML="HELP",iMenuModel.setTickItemFlag(!1)},n.iMenuController=function(e){var t=iMenuModel.getImenuData(),a=iMenuModel.getMenuIndex(),i=iMenuModel.getItemIndex(),r=iMenuModel.getNumOfListItems();if(sportsAppModel.getKeyPressEnabled())switch(iMenuElement=document.querySelector(".iMenu"),iMenuElement.classList.contains("opened")&&(clearTimeout(iMenuTimer),iMenuTimer=setTimeout(n.closeImenu.bind(n),5e3)),e){case 38:if(i>0){i--,iMenuModel.setItemIndex(i);var d=document.querySelectorAll(".listItem");d[i+1].classList.remove("selected"),d[i].classList.add("selected");var o=document.getElementById("iMenuHint");o.firstChild.innerHTML=t.menu[a].item[i].hint}break;case 40:if(r>i){i++,iMenuModel.setItemIndex(i);var d=document.querySelectorAll(".listItem");d[i-1].classList.remove("selected"),d[i].classList.add("selected");var o=document.getElementById("iMenuHint");o.firstChild.innerHTML=r>i?t.menu[a].item[i].hint:"HELP INFORMATION"}break;case 13:var l=new Href;i===r?l.hrefHandler("help://",iMenuModel):l.hrefHandler(t.menu[a].item[i].href,iMenuModel);break;case 73:case 457:n.openCloseImenu(),sportsAppModel.setKeyPressEnabled(!0);break;case 66:var u=iMenuModel.breadcrum.length;0==!a?u>0&&(iMenuModel.setMenuIndex(iMenuModel.returnMenuId(iMenuModel.breadcrum[iMenuModel.breadcrum.length-1])),iMenuModel.setMenuId(iMenuModel.breadcrum[u-1]),iMenuModel.popBreadcrum(),n.buildMenu()):n.closeImenu();break;case 27:var u=iMenuModel.breadcrum.length;0==!a?u>0&&(iMenuModel.setMenuIndex(iMenuModel.returnMenuId(iMenuModel.breadcrum[iMenuModel.breadcrum.length-1])),iMenuModel.setMenuId(iMenuModel.breadcrum[u-1]),iMenuModel.popBreadcrum(),n.buildMenu()):n.closeImenu();break;case 8:var u=iMenuModel.getBreadcrumlLength();0==!a?u>0&&(iMenuModel.setMenuIndex(iMenuModel.returnMenuId(iMenuModel.breadcrum[iMenuModel.breadcrum.length-1])),iMenuModel.setMenuId(iMenuModel.breadcrum[u-1]),iMenuModel.popBreadcrum(),n.buildMenu()):n.closeImenu()}},n.showAudioIcon=function(){document.getElementById("audioIcon").style.visibility="visible";var e=document.getElementById("audioStream");e.style.visibility="visible",e.firstElementChild.innerHTML=videoMenuModel.getCurrMultiAudio()},n.hideAudioIcon=function(){var e=document.getElementById("audioIcon"),t=document.getElementById("audioStream");e&&(e.style.visibility="hidden",t.style.visibility="hidden")},n.showMessageStrap=function(e,t,a){var i=document.getElementById("messageStrap");for(i||(i=document.createElement("div"),i.id="messageStrap",OSD.appendChild(i));i.firstChild;)i.removeChild(i.firstChild);a&&n.hideAudioIcon(),i.appendChild(null!==e?document.createTextNode(e):document.createTextNode("")),i.style.visibility="visible";setTimeout(function(){n.hideMessageStrap()},t)},n.hideMessageStrap=function(){var e=document.getElementById("messageStrap");e.style.visibility="hidden"},n.openCloseImenu=function(){var e=iMenuModel.getImenuData();iMenuElement=document.querySelector(".iMenu"),iMenuElement.classList.contains("opened")?(iMenuElement.classList.remove("opened"),iMenuElement.classList.add("closed"),clearTimeout(iMenuTimer),document.getElementById("iMenuHint").style.visibility="hidden",document.getElementById("iMenuClose").style.visibility="hidden","off"===iMenuModel.getTickerStatus()&&(document.getElementById("iMenuStrap").style.visibility="hidden"),sportsAppModel.setCurrentFocus(sportsAppModel.getLastFocus())):(iMenuModel.setMenuIndex(0),iMenuModel.setItemIndex(0),iMenuModel.setMenuId(e.menu[0].id),breadcrum=[],n.populateMenu(),iMenuElement.classList.remove("closed"),iMenuElement.classList.add("opened"),iMenuTimer=setTimeout(n.openCloseImenu.bind(n),5e3),document.getElementById("iMenuStrap").style.visibility="visible",document.getElementById("iMenuClose").style.visibility="visible",document.getElementById("iMenuHint").style.visibility="visible")},n.closeImenu=function(){iMenuElement=document.querySelector(".iMenu"),iMenuElement.classList.contains("opened")&&(iMenuElement.classList.remove("opened"),iMenuElement.classList.add("closed"),clearTimeout(iMenuTimer),document.getElementById("iMenuHint").style.visibility="hidden",document.getElementById("iMenuClose").style.visibility="hidden","off"==iMenuModel.getTickerStatus()&&(document.getElementById("iMenuStrap").style.visibility="hidden"),sportsAppModel.setCurrentFocus(sportsAppModel.getLastFocus()))},n.loadImenu=function(a){jsLoad=a?new AJAXjsonLoader:new SJAXjsonLoader,jsLoad.loadJSON(e+"?"+t.giveMeARandomNum(),function(e){iMenuModel.setImenuData(e),a&&n.init()},function(t){vmDtvLib.dax.trackError(t,"JSON Load error "+e),console.error("JSON Load error -> "+t+" "+e),iMenuModel.setImenuStatus(!1)})},n.hideInfoIcon=function(){var e=document.getElementById("iMenuButton");e&&(e.style.visibility="hidden")},n.showInfoIcon=function(){var e=document.getElementById("iMenuButton");e&&(e.style.visibility="visible")},n.hideImenuStrap=function(){document.getElementById("iMenuStrap").style.visibility="hidden"},n.showImenuStrap=function(){document.getElementById("iMenuStrap").style.visibility="visible"},n.init=function(){var e=iMenuModel.getImenuData();if(iMenuModel.setiMenuXPos(Number(e.x)),iMenuModel.setiMenuYPos(Number(e.y)),e.hasOwnProperty("launchMenu")){if(iMenuModel.setMenuId(e.launchMenu),iMenuModel.setImenuStatus(!0),iMenuModel.setRequirements(),n.buildMenu(),iMenuModel.getTickerRequired()){var t=new Ticker;t.loadTicker(),t.buildTicker(),t=null}if(iMenuModel.getAlertsRequired()){var a=new Alerts;a.buildAlert(),a=null}}else iMenuModel.setImenuStatus(!1)}},Rtu=function(){var e="rtu.json",t=new RandomURLNum,r=(new Alerts,new VideoMenu,new Ticker,this);r.rtuLoader=function(){r.jsonLoader()};var d=function(){var e=rtuModel.getRtuData();if(rtuModel.isFirstTime()&&(rtuModel.setVmDataVersion(e.vm),rtuModel.setImenuDataVersion(e.im),rtuModel.setAlertDataVersion(e.ad),rtuModel.setTickerDataVersion(e.td),rtuModel.isFirstTime(!1)),"1"===e.kl){console.log("kl:1 KILL APP");var t=new ChannelManager;t.exit()}if(rtuModel.getVmDataVersion()!=e.vm){var n=new VideoMenu;n.loadVideoMenu(!0),rtuModel.setVmDataVersion(e.vm),n=null}if(rtuModel.getImenuDataVersion()<e.im){var a=new Imenu;a.loadImenu(!0),rtuModel.setImenuDataVersion(e.im),a=null}if(iMenuModel.getAlertStatus()){var i=new Alerts,r=rtuModel.getAlertDataVersion();r<e.ad&&(i.loadAlert(!0),rtuModel.setAlertDataVersion(e.ad)),i=null}if(rtuModel.getTickerDataVersion()<e.td){var d=new Ticker;d.loadTicker(),rtuModel.setTickerDataVersion(e.td),d=null}};r.loadRtu=function(n){var a=n?new AJAXjsonLoader:new SJAXjsonLoader,i=e+"?"+t.giveMeARandomNum();a.loadJSON(i,function(e){rtuModel.setRtuData(e);rtuModel.getRtuData();d()},function(t){vmDtvLib.dax.trackError(t,"JSON Load error "+e),console.error("JSON Load Error -> "+t)})},this.startRtu=function(){setInterval(function(){r.loadRtu(!0)},configModel.getPollTime())}},Ticker=function(){function d(){var t=document.getElementById("ticker"),n=window.getComputedStyle(t,null).getPropertyValue("left");n=n.substring(0,n.length-2),n-=4,n<-1*Math.abs(tickerWidth)&&(n=e),t.style.left=n+"px"}var e=1280,n="tickerdata.json",a=new RandomURLNum;this.buildTicker=function(){var e=document.getElementById("iMenuStrap"),t=document.getElementById("ticker");if(!t){t=document.createElement("div"),t.id="ticker";var n=document.createElement("span");n.id="tickerText",e.appendChild(t).appendChild(n)}},this.toggleTicker=function(e){iMenuModel.getCurrentTickerFlag(e)===!1?this.startTicker(e):this.stopTicker(e)},this.startTicker=function(e){if("on"===iMenuModel.getTickerStatus())for(i=0;6>i;i++)iMenuModel.getCurrentTickerFlag(i)===!0&&this.stopTicker(i);var t=tickerModel.getTickerHeader(e)+" -- "+tickerModel.getTickerBody(e),n=document.getElementById("tickerText"),a=document.getElementById("ticker");a.style.visibility="visible",n&&(n.innerHTML=t),tickerWidth=window.getComputedStyle(a,null).getPropertyValue("width"),tickerWidth=tickerWidth.substring(0,tickerWidth.length-2),a.style.left="1280px",animationRequest=setInterval(d,50),iMenuModel.setTickerStatus("on"),iMenuModel.setCurrentTickerFlag(e,!0)},this.stopTicker=function(e){var t=document.getElementById("tickerText"),n=document.getElementById("ticker");n.style.visibility="hidden",t&&(t.innerHTML=""),clearInterval(animationRequest),iMenuModel.setTickerStatus("off"),iMenuModel.setCurrentTickerFlag(e,!1)},this.hideTicker=function(){var e=document.getElementById("ticker");e.style.visibility="hidden"},this.showTicker=function(){var e=document.getElementById("ticker");e.style.visibility="visible"},this.loadTicker=function(e){jsLoad=e?new AJAXjsonLoader:new SJAXjsonLoader,jsLoad.loadJSON(n+"?"+a.giveMeARandomNum(),function(e){tickerModel.setTickerData(e)},function(e){vmDtvLib.dax.trackError(e,"JSON Load error "+n),console.error("JSON Load Error -> "+e+" "+n)})}},VideoMenu=function(){var d,e=this,t=0,n=0,a=0,i=4,r="videomenu.json",o="PRESS BACKUP TO EXIT TO VIDEO MENU",l="PRESS LEFT AND RIGHT ARROWS TO CHANGE AUDIO",u=new RandomURLNum;e.loadVideoMenu=function(e){var t=e?new AJAXjsonLoader:new SJAXjsonLoader;t.loadJSON(r+"?"+u.giveMeARandomNum(),function(e){videoMenuModel.setVideoMenuConfig(e)},function(e){vmDtvLib.dax.trackError(e,"JSON Load error "+r),console.error("JSON loader error: "+e+" "+r)})},e.showTarget=function(t,n,a,i,r){var d=document.getElementById("target");if(videoMenuModel.targetVisible(!0),!(i>0&&a>0)){var l=new Imenu;return l.hideAudioIcon(),l.showMessageStrap(o,1e4,!0),e.hideTarget()}d.style.left=t+"px",d.style.top=n+"px",d.style.width=a+"px",d.style.height=i+"px",d.style.borderColor=r,d.style.visibility="visible"},e.hideTarget=function(){var e=document.getElementById("target");videoMenuModel.targetVisible(!1),e.style.visibility="hidden"};var s=function(e,t,n){var I,E,T,x,a=videoMenuModel.getVideoMenuConfig(),r=Number(a.videoMenu[e].matrix.option[n].x)-i,d=Number(a.videoMenu[e].matrix.option[n].y)-i,o=Number(a.videoMenu[e].matrix.option[t].x)-i,l=Number(a.videoMenu[e].matrix.option[t].y)-i,u=Number(a.videoMenu[e].matrix.option[n].h),s=Number(a.videoMenu[e].matrix.option[n].w),c=Number(a.videoMenu[e].matrix.option[t].h),m=Number(a.videoMenu[e].matrix.option[t].w),v=r>o?-1:1,p=d>l?-1:1,g=u>c?-1:1,M=s>m?-1:1,f=function(e,t){return Math.abs(e-t)},h=f(r,o),C=f(d,l),S=f(s,m),b=f(u,c),y="on"===iMenuModel.getTickerStatus()?2:1;h>C?(I=0===C?40*y:h/C*20*y,E=C/Math.ceil(h/I),x=b/Math.ceil((0===h?1:h)/I),T=S/Math.ceil((0===h?1:h)/I)):(E=0===h?40*y:C/h*20*y,I=h/Math.ceil(C/E),T=S/Math.ceil((0===C?1:C)/E),x=b/Math.ceil((0===C?1:C)/E));var N=document.getElementById("target"),w=0,A=setInterval(function(){var e=Math.abs(o-r),t=Math.abs(l-d),n=Math.abs(m-s),a=Math.abs(c-u);r!=o&&(r+=I>e?e*Number(v):I*Number(v)),d!=l&&(d+=E>t?t*Number(p):E*Number(p)),s!=m&&(s+=T>n?n*Number(M):T*Number(M)),u!=c&&(u+=x>a?a*Number(g):x*Number(g)),N.style.left=r+"px",N.style.top=d+"px",N.style.height=u+"px",N.style.width=s+"px",w++,r==o&&d==l&&s==m&&u==c&&(clearInterval(A),sportsAppModel.setKeyPressEnabled(!0))},20)};e.videoMenuController=function(){a=videoMenuModel.getOindex(),t=videoMenuModel.getVideoMenuIndex();var i,r=new ChannelManager,o=videoMenuModel.getVideoMenuConfig();if(sportsAppModel.getKeyPressEnabled()){var l=new Href;switch(clearTimeout(d),event.keyCode){case 38:"fullscreen"!==sportsAppModel.getCurrentFocus()&&(sportsAppModel.setKeyPressEnabled(!1),i="UP",n=videoMenuModel.getVideoMenuOptionNav(t,a,i),s(t,n,a),videoMenuModel.setOindex(n),d=setTimeout(function(){r.audioTune(Number(o.videoMenu[t].matrix.option[n].menuAudio),e.audCallBack())},1e3));break;case 40:"fullscreen"!==sportsAppModel.getCurrentFocus()&&(sportsAppModel.setKeyPressEnabled(!1),i="DOWN",n=videoMenuModel.getVideoMenuOptionNav(t,a,i),s(t,n,a),videoMenuModel.setOindex(n),d=setTimeout(function(){r.audioTune(Number(o.videoMenu[t].matrix.option[n].menuAudio),e.audCallBack())},1e3));break;case 39:if("fullscreen"===sportsAppModel.getCurrentFocus()){if(videoMenuModel.getMultiAudioFlag()){{var u=videoMenuModel.getCurrMultiAudio();document.getElementById("audioStream")}9>u?u++:null,videoMenuModel.setCurrMultiAudio(u);var r=new ChannelManager;document.getElementById("audioStream").style.visibility="visible",document.getElementById("audioStream").firstElementChild.innerHTML=u,r.audioTune(o.ma[u].aid,e.audCallBack())}}else sportsAppModel.setKeyPressEnabled(!1),i="RIGHT",n=videoMenuModel.getVideoMenuOptionNav(t,a,i),s(t,n,a),videoMenuModel.setOindex(n),d=setTimeout(function(){r.audioTune(Number(o.videoMenu[t].matrix.option[n].menuAudio),e.audCallBack())},1e3);break;case 37:if("fullscreen"===sportsAppModel.getCurrentFocus()){if(videoMenuModel.getMultiAudioFlag()){var u=videoMenuModel.getCurrMultiAudio();u>0?u--:null,videoMenuModel.setCurrMultiAudio(u);var r=new ChannelManager;document.getElementById("audioStream").style.visibility="visible",document.getElementById("audioStream").firstElementChild.innerHTML=u,r.audioTune(o.ma[u].aid,e.audCallBack())}}else sportsAppModel.setKeyPressEnabled(!1),i="LEFT",n=videoMenuModel.getVideoMenuOptionNav(t,a,i),s(t,n,a),videoMenuModel.setOindex(n),d=setTimeout(function(){r.audioTune(Number(o.videoMenu[t].matrix.option[a].menuAudio),e.audCallBack())},1e3);break;case 13:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),l.hrefHandler(o.videoMenu[t].matrix.option[a].href);break;case 49:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(0),l.hrefHandler(o.videoMenu[t].matrix.option[0].href);break;case 50:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(1),l.hrefHandler(o.videoMenu[t].matrix.option[1].href);break;case 51:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(2),l.hrefHandler(o.videoMenu[t].matrix.option[2].href);break;case 52:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(3),l.hrefHandler(o.videoMenu[t].matrix.option[3].href);break;case 53:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(4),l.hrefHandler(o.videoMenu[t].matrix.option[4].href);break;case 54:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(5),l.hrefHandler(o.videoMenu[t].matrix.option[5].href);break;case 55:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(6),l.hrefHandler(o.videoMenu[t].matrix.option[6].href);break;case 56:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(7),l.hrefHandler(o.videoMenu[t].matrix.option[7].href);break;case 57:videoMenuModel.setMultiAudioFlag("true"===o.videoMenu[t].matrix.option[a].ma?!0:!1),videoMenuModel.setOindex(8),l.hrefHandler(o.videoMenu[t].matrix.option[8].href);break;case 66:{var m=new Av;channelManagerModel.getChannelID()}if(iMenuModel.getImenuStatus()){var p=new Imenu;p.hideMessageStrap()}"fullscreen"===sportsAppModel.getCurrentFocus()?e.init(0):function(){videoMenuModel.getVideoMenuIndex()>0?(videoMenuModel.setOindex(0),e.init(0)):(splashLoader.show(),tivo.core.exit())}(),m=null;break;case 27:{var m=new Av;channelManagerModel.getChannelID()}if(iMenuModel.getImenuStatus()){var p=new Imenu;p.hideMessageStrap()}"fullscreen"===sportsAppModel.getCurrentFocus()?e.init(0):function(){videoMenuModel.getVideoMenuIndex()>0?(videoMenuModel.setOindex(0),e.init(0)):(splashLoader.show(),tivo.core.exit())}(),m=null}}},e.fullScreen=function(t,n){e.hideTarget();var a=new Imenu;iMenuModel.getImenuStatus()?videoMenuModel.getMultiAudioFlag()?(a.showAudioIcon(),a.showMessageStrap(l,1e4,!1)):a.showMessageStrap(o,1e4,!0):a.showMessageStrap(o,1e4,!1),sportsAppModel.setCurrentFocus("fullscreen"),channelManagerModel.setCurrentChannel(t),channelManagerModel.setCurrentAudio(n),channelManager.channelTune(t,e.vidCallBack),a=null};e.vidCallBack=function(){hideLoadingAnim(),channelManager.audioTune(Number(channelManagerModel.getCurrentAudio()),e.audCallBack),splashLoader.hide()},e.audCallBack=function(){console.log("Audio Tuned")},e.init=function(n){var r=document.getElementById("debugArea");r.innerHTML="INIT",t=0/0!==n&&void 0!==n?n:0,videoMenuModel.setVideoMenuIndex(t),a=videoMenuModel.getOindex();var d=videoMenuModel.getVideoMenuConfig(),o=document.getElementById("vidBroadcast");o.style.visibility="visible";var l=d.videoMenu[t].matrix.video,u=d.videoMenu[t].matrix.option[a].menuAudio;channelManagerModel.setCurrentChannel(l),channelManagerModel.setCurrentAudio(u);var r=document.getElementById("debugArea");channelManager.channelTune(l,e.vidCallBack);var s="#"+d.videoMenu[t].matrix.rgb.slice(2,8),c=document.getElementById("target"),m=document.getElementById("OSD");
if(c||(c=document.createElement("div"),c.id="target",c.style.zIndex="1",m.appendChild(c)),iMenuModel.getImenuStatus()){var v=new Imenu;v.hideAudioIcon(),v=null,videoMenuModel.setMultiAudioFlag(!1),videoMenuModel.setCurrMultiAudio(0)}var p=d.videoMenu[t].matrix.option[a].x,g=d.videoMenu[t].matrix.option[a].y,M=d.videoMenu[t].matrix.option[a].w-i,f=d.videoMenu[t].matrix.option[a].h-i;e.showTarget(p,g,M,f,s),sportsAppModel.setCurrentFocus("videoMenu")}},AlertsModel=function(){var t={},i=!1,r="../assets/alert.png",d=this;d.setAlertData=function(e){t=e},d.setRedButtonTune=function(e){i=e},d.getAlertData=function(){return t},d.getBackgroundURL=function(){return r},d.getAlertTimeout=function(){return 1e3*parseInt(t.display)},d.getRedButtonChannel=function(){return t.stream},d.getRedButtonAudio=function(){return t.audio},d.getTuneAwayTimeout=function(){return 1e3*parseInt(t.exit)},d.getRedButtonTune=function(){return i}},ConfigModel=function(){var e={};this.setConfigData=function(t){e=t},this.getPollTime=function(){return e.polltime},this.getVideoX=function(){return e.videoX},this.getVideoY=function(){return e.videoY}},DrawStatsModel=function(){var n,a,e=this,t={},i=!1;e.setDrawData=function(e){t=e},e.getDrawData=function(){return t},e.setCurrentStatus=function(e){i=e},e.getCurrentStatus=function(){return i},e.getPlayerName=function(e){var n="";if(""!==e)try{return n=t.players[e].name}catch(a){return console.log("Problem extracting player name: "+a)," "}return" "},e.getPlayer1Id=function(e,n,a){return void 0===t.rounds[e][n+a].player1?" ":t.rounds[e][n+a].player1},e.getPlayer2Id=function(e,n,a){return void 0===t.rounds[e][n+a].player2?" ":t.rounds[e][n+a].player2},e.getPlayer1Score=function(e,n,a){return void 0==t.rounds[e][n+a].score1?" ":t.rounds[e][n+a].score1},e.getPlayer2Score=function(e,n,a){return void 0==t.rounds[e][n+a].score2?" ":t.rounds[e][n+a].score2},e.getWinner=function(e,n,a){return void 0==t.rounds[e][n+a].winner?"-1":t.rounds[e][n+a].winner},e.getExtraText=function(e,n,a){return void 0==t.rounds[e][n+a].extraText?" ":t.rounds[e][n+a].extraText},e.getRoundTitle=function(e){return t.titles[e]},e.getCompTitle=function(){return t.title},e.getActiveRound=function(){var e=void 0==t.activeRound?0:t.activeRound;return 0>e&&(e=0),e},e.getCurrentRound=function(){return void 0===n?0:n},e.setCurrentRound=function(e){n=e},e.getNumberOfRounds=function(){return t.rounds.length},e.getNumberOfPages=function(e){return t.rounds[e].length/4},e.getCurrentPage=function(){return void 0===a?0:a},e.setCurrentPage=function(e){a=e}},GenStatsModel=function(){var n,i,r,d,l,e=this,t={0:{},1:{},2:{},3:{},4:{},5:{}},a="toplevel",o=0,u=[];e.pushBreadcrum=function(e){u.push(e)},e.popBreadcrum=function(){u.pop()},e.setGenStatsData=function(e,n){t[n]=e},e.setCurrentTabIndex=function(e){n=e},e.setMenuLevel=function(e){a=e},e.setMenuIndex=function(e){i=e},e.setCurrentMenuType=function(e){d=e},e.setNoOfMenuItems=function(e){r=e},e.setTable2Page=function(e){o=e},e.setTable3Page=function(e){l=e},e.getGenStatsData=function(e){return t[e]},e.getNoOfTabs=function(){return t[0].tabs.length},e.getNoOfRows=function(e,n){return t[e][a].data.items[n].rows.length},e.getCurrentTabIndex=function(){return n},e.getMenuIndex=function(){return i},e.getMenuType=function(e,n){return t[e][a].data.items[n].type},e.getCurrentMenuType=function(){return d},e.getNoOfMenuItems=function(){return r},e.getMenuItem=function(e,n){return t[e][a].data.items[n].data},e.getTable3MenuItem=function(e,n){return t[e][a].data.items[n]},e.getTable2Page=function(){return o},e.getTable3Page=function(){return l},e.getBreadcrumLength=function(){return u.length}},HelpModel=function(){var e={};this.setHelpDataText=function(t){e.text=t},this.setHelpData=function(t){e=t},this.getHelpDataText=function(){return e.text}},ImenuModel=function(){var d,e={},t=0,n=0,a=0,i=null,r=0,o=6,m={status:"off",0:!1,1:!1,2:!1,3:!1,4:!1,5:!1},v=!1,p=!1,g=!1,M=!1,f=this,h={tickerRequired:!1,alertsRequired:!1,statsRequired:!1,drawRequired:!1};f.breadcrum=[],f.setImenuData=function(t){e=t},f.getImenuData=function(){return e},f.getBreadcrumLength=function(){return breadcrum.length},f.getImenuStatus=function(){return g},f.setImenuStatus=function(e){g=e},f.setMenuIndex=function(e){a=e},f.setItemIndex=function(e){r=e},f.setNumOfListItems=function(e){d=o>=e?e:o},f.setMenuId=function(e){i=e},f.setiMenuXPos=function(e){t=e},f.setiMenuYPos=function(e){n=e},f.getMenuIndex=function(){return a},f.getItemIndex=function(){return r},f.getMenuId=function(){return i},f.getiMenuXPos=function(){return t},f.getiMenuYPos=function(){return n},f.getNumOfListItems=function(){return d},f.getLaunchMenu=function(){return e.launchMenu},f.returnMenuId=function(t){for(var n=e.menu.length;n--&&e.menu[n].id!==t;);return n},f.pushBreadcrum=function(e){f.breadcrum.push(e)},f.popBreadcrum=function(){f.breadcrum.pop()},f.getTickerStatus=function(){return m.status},f.setTickerStatus=function(e){m.status=e},f.getTickerFlags=function(){return m},f.setCurrentTickerFlag=function(e,t){m[e]=t},f.getCurrentTickerFlag=function(e){return m[e]},f.setTickItemFlag=function(e){v=e},f.getTickItemFlag=function(){return v},f.setRequirements=function(){for(var r="stats://",d="alert://",o="ticker://",u="draw://",s=0;s<e.menu.length;++s)for(var c=0;c<e.menu[s].item.length;++c){var m=e.menu[s].item[c].href;0===m.indexOf(u)?iMenuModel.setDrawRequired(!0):0===m.indexOf(o)?iMenuModel.setTickerRequired(!0):0===m.indexOf(d)?iMenuModel.setAlertsRequired(!0):0===m.indexOf(r)&&iMenuModel.setStatsRequired(!0)}},f.getTickerRequired=function(){return h.tickerRequired},f.getAlertsRequired=function(){return h.alertsRequired},f.getStatsRequired=function(){return h.statsRequired},f.getDrawRequired=function(){return h.drawRequired},f.setTickerRequired=function(e){h.tickerRequired=e},f.setAlertsRequired=function(e){h.alertsRequired=e},f.setStatsRequired=function(e){h.statsRequired=e},f.setDrawRequired=function(e){h.drawRequired=e},f.setAlertStatus=function(e){p=e},f.setAlertStatus=function(e){p=e},f.getAlertStatus=function(){return p},f.getAlertDisplayStatus=function(){return M},f.setAlertDisplayStatus=function(e){M=e},f.showInfoIcon=function(){var e=document.getElementById("iMenuButton");e&&(e.style.visibility="visible")}},RtuModel=function(){"use strict";var e={},t=0,n=0,a=0,i=0,r=!0;this.isFirstTime=function(e){return e===!1&&(r=e),r},this.setVmDataVersion=function(e){t=e},this.setImenuDataVersion=function(e){n=e},this.setAlertDataVersion=function(e){a=e},this.setTickerDataVersion=function(e){i=e},this.setRtuData=function(t){e=t},this.getVmDataVersion=function(){return t},this.getImenuDataVersion=function(){return n},this.getAlertDataVersion=function(){return a},this.getTickerDataVersion=function(){return i},this.getRtuData=function(){return e}},SportsAppModel=function(){var t="videoMenu",n="",a=!0,i=this;i.getCurrentFocus=function(){return t},i.getLastFocus=function(){return n},i.getKeyPressEnabled=function(){return a},this.getIsHD=function(){return this.isHD},i.setCurrentFocus=function(e){i.setLastFocus(t),t=e},i.setLastFocus=function(e){n=e},i.setKeyPressEnabled=function(e){a=e},i.setIsHD=function(e){this.isHD=e}},TickerModel=function(){var r,e={},a=!0;this.setTickerData=function(t){e=t},this.setTickerIndex=function(e){r=e},this.getTickerIndex=function(){return r},this.getTickerHeader=function(t){return e.data[t].header},this.getTickerBody=function(t){return e.data[t].body},this.setTickerStopped=function(e){a=e},this.getTickerStopped=function(){return a}},VideoMenuModel=function(){var c,i=!1,r=this,d=0,o=0,l=!1,u=0,s=0,m=0,v={};r.targetVisible=function(e){i=e},r.setVideoMenuConfig=function(e){v=e},r.getVideoMenuJSON=function(){return v.videoMenu},r.setVideoMenuIndex=function(e){d=e},r.setMatrixOption=function(e){o=e},r.getMultiAudioToggle=function(){return u},r.setMultiAudioToggle=function(e){u=e},r.setMultiAudioFlag=function(e){l=e},r.setOindex=function(e){s=Number(e)},r.setCurrMultiAudio=function(e){m=e},r.getCurrMultiAudio=function(){return m},r.setCurrMenuAudio=function(e){c=e},r.getCurrMenuAudio=function(){return c},r.getMultiAudioFlag=function(){return l},r.getVideoMenuIndex=function(){return d},r.getMatrixOption=function(){return o},r.getVideoMenuConfig=function(){return v},r.getVideoMenuOptionNav=function(e,t,n){var a;switch(n){case"LEFT":a=v.videoMenu[e].matrix.option[t].l;break;case"RIGHT":a=v.videoMenu[e].matrix.option[t].r;break;case"UP":a=v.videoMenu[e].matrix.option[t].u;break;case"DOWN":a=v.videoMenu[e].matrix.option[t].d}return a},r.getMultiAudio=function(){return""!==v.ma&&null!==v.ma&&void 0!==v.ma?v.ma:!1},r.getOindex=function(){return s}},showLoadingAnim=function(){console.log("show loading animation");var e=document.getElementById("loadingAnim");e.style.visibility="visible"},hideLoadingAnim=function(){console.log("hide loading animation");var e=document.getElementById("loadingAnim");e.style.visibility="hidden"};